<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<input type="button" name="name" value="ok" onclick="ok()">
	<button>1</button>
	<button>2</button>
	<button>3</button>
	<button>4</button>

	<ul id='test'>
	<li>这是第一条</li>
	<li>这是第二条</li>
	<li>这是第三条</li>
	</ul>
</body>
<script type="text/javascript">
	function ok(){
		var b=document.getElementsByTagName('button');
			console.log(b);

		for(var i=0,length=b.length;i<length;i++){
			//没次循环均会创建一次局部变量  变量i进行本地化
			//原来都是在引用同一个变量（ok函数中的i）
			//现在则每次引用的都是不同的变量 自己的变量
			(function (a){
				b[a].onclick=function(){
					console.log(a);
					console.log(this);
				};
			})(i);

			//两种方式本质上都是在执行的函数外面在套一层函数 进行变量本地化
			// b[i].onclick=(function(a){
			// 	return function(){
			// 		console.log(a);
			// 	}
			// })(i);
			//
			//
			// b[i].onclick=function(){
			// 		console.log(this);
			// };
		}
	}


	// var arr=['#penuse1','#penuse2','#penuse3'];
 //      var att=['#art1','#art2','#art3'];
 //      for(i=0;i<arr.length;i++){
 //      	(function (a){
 //      		 $(arr).bind('click',function(){
 //              $("att["+a+"]").show().siblings().hide();
 //          		});
 //      	})(i);

 //      };
	var lis=document.getElementById('test').getElementsByTagName('li');
	for(var i=0;i<3;i++)
	{
	    lis[i].index=i;
	    lis[i].onclick=function(){
	        alert(this.index);
	    };
	}

	var arr = ['x','x',1,2,3,4,55,23,4,23,2];
	//数组去重
	function uniquueArr(arr){
		var obj={};
		var array=[];

		for(var i=0,length=arr.length;i<length;i++){

			if(!obj[arr[i]]){
				obj[arr[i]]=true;
				array.push(arr[i]);
			}
		}
		console.log(obj.arr[0]);
		return array;
	}
	//console.log(uniquueArr(arr));
	//获取字符串中出现最多的字符
	var str='dasdasdadsssssaaaaaaaaaaaaa';
	function maxcode(str){
		var obj={},index=0,max=0;
		for(var i=0,length=str.length;i<length;i++){
			if(!obj[str.charAt(i)]){
				obj[str.charAt(i)]=1;
			}else{
				obj[str.charAt(i)]++;
			}
		}
		for(var i in obj){
			if(obj[i] > max) {
                index = i;
                max = obj[index];
            }
		}

		return {
			index:index,
			max:max
		}

	}
	console.log(maxcode(str));
</script>
</html>
